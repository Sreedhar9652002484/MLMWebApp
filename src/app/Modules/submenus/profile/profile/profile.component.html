<div class="container-fluid px-0">
    <!-- Cover Image Section -->
    <div
      class="cover-image position-relative animate__animated animate__fadeIn"
      style="background-image: url('https://images.unsplash.com/photo-1531512073830-ba890ca4eba2?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');"
    >
      <div class="mask bg-gradient-dark opacity-6"></div>
      <div class="cover-content position-absolute bottom-0 start-0 p-4 text-white">
        <h3 class="mb-0 animate__animated animate__fadeInUp">{{ user.fullName }}</h3>
        <p class="text-sm mb-0 animate__animated animate__fadeInUp animate__delay-1s">MLM Member</p>
      </div>
      <button
        class="btn btn-icon-only btn-edit-cover position-absolute top-0 end-0 m-3"
        (click)="toggleEditMode()"
        title="Edit Profile"
      >
        <i class="fas fa-edit"></i>
      </button>
    </div>
  
    <!-- Profile Card Section -->
    <div class="profile-card container mt-n6 animate__animated animate__zoomIn">
      <div class="row">
        <!-- Profile Picture -->
        <div class="col-12 col-md-4 col-lg-3 text-center">
          <div class="profile-pic-container position-relative">
            <img
              src="../../../../../assets/images/prof.jpg"
              alt="Profile Picture"
              class="profile-pic img-fluid border-radius-lg shadow-lg animate__animated animate__pulse animate__infinite"
            />
            <div class="profile-pic-overlay position-absolute">
              <button class="btn btn-icon-only btn-upload">
                <i class="fas fa-camera"></i>
              </button>
            </div>
          </div>
        </div>
  
        <!-- Profile Details -->
        <div class="col-12 col-md-8 col-lg-9">
          <div class="card card-body shadow-lg border-radius-xl">
            <!-- Navigation Tabs -->
            <div class="nav-wrapper mb-4">
              <ul class="nav nav-pills nav-fill p-1 flex-row" role="tablist">
                <li class="nav-item" role="presentation">
                  <a
                    class="nav-link mb-0 px-0 py-1 active animate__animated animate__fadeInLeft"
                    data-bs-toggle="tab"
                    href="#profile"
                    role="tab"
                    aria-selected="true"
                  >
                    <i class="material-symbols-rounded text-lg position-relative">person</i>
                    <span class="ms-1">Profile</span>
                  </a>
                </li>
                <li class="nav-item" role="presentation">
                  <a
                    class="nav-link mb-0 px-0 py-1 animate__animated animate__fadeInLeft animate__delay-1s"
                    data-bs-toggle="tab"
                    href="#bank"
                    role="tab"
                    aria-selected="false"
                  >
                    <i class="material-symbols-rounded text-lg position-relative">account_balance</i>
                    <span class="ms-1">Bank</span>
                  </a>
                </li>
                <li class="nav-item" role="presentation">
                  <a
                    class="nav-link mb-0 px-0 py-1 animate__animated animate__fadeInLeft animate__delay-2s"
                    data-bs-toggle="tab"
                    href="#settings"
                    role="tab"
                    aria-selected="false"
                  >
                    <i class="material-symbols-rounded text-lg position-relative">settings</i>
                    <span class="ms-1">Settings</span>
                  </a>
                </li>
              </ul>
            </div>
  
            <!-- Tab Content -->
            <div class="tab-content">
              <!-- Profile Tab -->
              <div class="tab-pane fade show active" id="profile" role="tabpanel">
                <div class="row">
                  <!-- Personal Information -->
                  <div class="col-12 col-xl-6">
                    <div class="card card-plain h-100 animate__animated animate__fadeInUp">
                      <div class="card-header pb-0 p-3 d-flex justify-content-between align-items-center">
                        <h6 class="mb-0">Personal Information</h6>
                        <button
                          class="btn btn-icon-only btn-edit"
                          (click)="toggleEditMode('personal')"
                          *ngIf="!editMode.personal"
                        >
                          <i class="fas fa-edit"></i>
                        </button>
                      </div>
                      <div class="card-body p-3">
                        <ul class="list-group">
                          <li class="list-group-item border-0 ps-0 pt-0 text-sm">
                            <strong class="text-dark">Full Name:</strong>
                            <span *ngIf="!editMode.personal">{{ user.fullName }}</span>
                            <input
                              *ngIf="editMode.personal"
                              type="text"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.fullName"
                            />
                          </li>
                          <li class="list-group-item border-0 ps-0 text-sm">
                            <strong class="text-dark">Email:</strong>
                            <span *ngIf="!editMode.personal">{{ user.email }}</span>
                            <input
                              *ngIf="editMode.personal"
                              type="email"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.email"
                            />
                          </li>
                          <li class="list-group-item border-0 ps-0 text-sm">
                            <strong class="text-dark">Mobile:</strong>
                            <span *ngIf="!editMode.personal">{{ user.mobile }}</span>
                            <input
                              *ngIf="editMode.personal"
                              type="text"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.mobile"
                            />
                          </li>
                          <li class="list-group-item border-0 ps-0 text-sm">
                            <strong class="text-dark">Address:</strong>
                            <span *ngIf="!editMode.personal">{{ user.address }}</span>
                            <textarea
                              *ngIf="editMode.personal"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.address"
                            ></textarea>
                          </li>
                        </ul>
                        <button
                          *ngIf="editMode.personal"
                          class="btn btn-primary btn-sm mt-3 animate__animated animate__fadeIn"
                          (click)="saveChanges('personal')"
                        >
                          Save Changes
                        </button>
                      </div>
                    </div>
                  </div>
                  <!-- KYC Information -->
                  <div class="col-12 col-xl-6">
                    <div class="card card-plain h-100 animate__animated animate__fadeInUp animate__delay-1s">
                      <div class="card-header pb-0 p-3 d-flex justify-content-between align-items-center">
                        <h6 class="mb-0">KYC Information</h6>
                        <button
                          class="btn btn-icon-only btn-edit"
                          (click)="toggleEditMode('kyc')"
                          *ngIf="!editMode.kyc"
                        >
                          <i class="fas fa-edit"></i>
                        </button>
                      </div>
                      <div class="card-body p-3">
                        <ul class="list-group">
                          <li class="list-group-item border-0 ps-0 pt-0 text-sm">
                            <strong class="text-dark">Aadhar Number:</strong>
                            <span *ngIf="!editMode.kyc">{{ user.aadhar }}</span>
                            <input
                              *ngIf="editMode.kyc"
                              type="text"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.aadhar"
                            />
                          </li>
                          <li class="list-group-item border-0 ps-0 text-sm">
                            <strong class="text-dark">PAN Card:</strong>
                            <span *ngIf="!editMode.kyc">{{ user.pan }}</span>
                            <input
                              *ngIf="editMode.kyc"
                              type="text"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.pan"
                            />
                          </li>
                        </ul>
                        <button
                          *ngIf="editMode.kyc"
                          class="btn btn-primary btn-sm mt-3 animate__animated animate__fadeIn"
                          (click)="saveChanges('kyc')"
                        >
                          Save Changes
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
  
              <!-- Bank Details Tab -->
              <div class="tab-pane fade" id="bank" role="tabpanel">
                <div class="row">
                  <div class="col-12">
                    <div class="card card-plain h-100 animate__animated animate__fadeInUp">
                      <div class="card-header pb-0 p-3 d-flex justify-content-between align-items-center">
                        <h6 class="mb-0">Bank Details</h6>
                        <button
                          class="btn btn-icon-only btn-edit"
                          (click)="toggleEditMode('bank')"
                          *ngIf="!editMode.bank"
                        >
                          <i class="fas fa-edit"></i>
                        </button>
                      </div>
                      <div class="card-body p-3">
                        <ul class="list-group">
                          <li class="list-group-item border-0 ps-0 pt-0 text-sm">
                            <strong class="text-dark">Bank Name:</strong>
                            <span *ngIf="!editMode.bank">{{ user.bankDetails.bankName }}</span>
                            <input
                              *ngIf="editMode.bank"
                              type="text"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.bankDetails.bankName"
                            />
                          </li>
                          <li class="list-group-item border-0 ps-0 text-sm">
                            <strong class="text-dark">Account Number:</strong>
                            <span *ngIf="!editMode.bank">{{ user.bankDetails.accountNumber }}</span>
                            <input
                              *ngIf="editMode.bank"
                              type="text"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.bankDetails.accountNumber"
                            />
                          </li>
                          <li class="list-group-item border-0 ps-0 text-sm">
                            <strong class="text-dark">IFSC Code:</strong>
                            <span *ngIf="!editMode.bank">{{ user.bankDetails.ifscCode }}</span>
                            <input
                              *ngIf="editMode.bank"
                              type="text"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.bankDetails.ifscCode"
                            />
                          </li>
                          <li class="list-group-item border-0 ps-0 text-sm">
                            <strong class="text-dark">Branch:</strong>
                            <span *ngIf="!editMode.bank">{{ user.bankDetails.branch }}</span>
                            <input
                              *ngIf="editMode.bank"
                              type="text"
                              class="form-control form-control-sm animate__animated animate__fadeIn"
                              [(ngModel)]="user.bankDetails.branch"
                            />
                          </li>
                        </ul>
                        <button
                          *ngIf="editMode.bank"
                          class="btn btn-primary btn-sm mt-3 animate__animated animate__fadeIn"
                          (click)="saveChanges('bank')"
                        >
                          Save Changes
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
  
              <!-- Settings Tab -->
              <div class="tab-pane fade" id="settings" role="tabpanel">
                <div class="row">
                  <div class="col-12">
                    <div class="card card-plain h-100 animate__animated animate__fadeInUp">
                      <div class="card-header pb-0 p-3">
                        <h6 class="mb-0">Settings</h6>
                      </div>
                      <div class="card-body p-3">
                        <p class="text-sm">Settings section coming soon...</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>